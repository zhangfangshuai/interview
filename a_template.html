<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Template-Page</title>
</head>

<body>
    <h2>ES6</h2>
    <div style="width: 100%; height: 2px; background: #F5F5F5;"></div>
    <script>
        /**
         * @func 字符串也可以解构赋值
         * @desc 结构后时一个类数组格式，需要用数组解构规则
         */
        let str = 'abc'
        const [x, y, z] = str
        console.log(x, y, z)




        /**
         * @func 数组的多层解构赋值
         * @desc 数组变量的取值由他的位置、顺序决定
         */
        let sourceArr = [[12, 30], [49, 91], 7]
        const [[a0, b0], [c0, d0], e0] = sourceArr
        console.log(a0, c0)

        /**
         * @func 数组解构的特殊用法
         * @desc 由于数组本质是特殊的对象，因此可以对数组进行对象属性的解构
         */
        let arr = [1, 2, 3, 4, 5,  6];
        let {0 : first, [arr.length - 1] : last} = arr;
        first // 1
        last // 6


        

        /**
         * @func 对象的解构赋值
         * @desc 对象属性没有次序，变量必须与熟悉过同名，才能取到正确的值
         * @desc 如果需要更改变量名，可以使用“:”进行重命名，冒号前是模式，不会被赋值，冒号后是变量
         * @desc 结构赋值可以指定默认值，在变量后面添加等号即可。{ a = 1 } = obj
         */
        let obj1 = { foo: 1, bar: 2 }
        const { foo, bar } = obj1
        console.log(foo) // 1

        let obj2 = { noobivariable: 110, bar2: 21 }
        const { noobivariable: noob, bar2 } = obj2
        console.log(noob) // 110
        // console.log(noobivariable) // 报错
        
        /**
         * @func 完整的对象解构赋值
         * @desc 也就是说，对象的解构赋值的内部机制，是先找到同名属性，然后再赋给对应的变量。真正被赋值的是后者，而不是前者。
         */
        let { fob: fob, bap: bap } = { fob: 'aaa', bap: 'bbb' };
        console.log(fob, bap)

        let sourceObj = {
            out1: {
                a2: 13,
                b2: 22
            },
            out2: {
                h2: 20,
                g2: 18
            },
            out3: 73
        }
        

        // 当进行对象深层解构赋值时，如下，out2仅是模式，不会被赋值，且这儿必须写且名字必须和属性一致。可以像out1这样赋值。
        const { out1, out1: {a2, b2}, out2: {h2, g2}, out3 } = sourceObj
        console.log(out1, a2)

        let sourceObj2 = {
            outer1: {
                cet1: {
                    innerA1: 130,
                    innerB1: 210
                },
                cet2: {
                    innerA2: 135,
                    innerB2: 215
                }
            }
        }
        const { outer1, outer1: { cet1, cet1: {innerA1}} } = sourceObj2
        console.log(outer1, cet1, innerA1)



        // 给对象解构赋值增加默认值
        let smObj = {
            s1: 1,
            s2: 2
        }

        const { s1, s2, s3 = 10 } = smObj
        console.log(s1, s2, s3) // 1 2 10
    </script>
</body>
</html>
